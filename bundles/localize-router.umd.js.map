{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6fac1d1110f1286f8931","webpack:///external \"@angular/core\"","webpack:///./src/localize-router.parser.ts","webpack:///./src/localize-router.service.ts","webpack:///external \"rxjs/add/observable/forkJoin\"","webpack:///./src/localize-router.pipe.ts","webpack:///external \"@angular/router\"","webpack:///external \"rxjs/Observable\"","webpack:///./src/localize-router.module.ts","webpack:///./src/util.ts","webpack:///external \"@angular/common\"","webpack:///external \"@angular/http\"","webpack:///external \"@ngx-translate/core\"","webpack:///external \"rxjs/Subject\"","webpack:///external \"rxjs/add/operator/share\"","webpack:///external \"rxjs/add/operator/toPromise\"","webpack:///./index.ts"],"names":[],"mappings":"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","file":"localize-router.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"rxjs/add/observable/forkJoin\"), require(\"@angular/router\"), require(\"rxjs/Observable\"), require(\"@angular/common\"), require(\"@angular/http\"), require(\"@ngx-translate/core\"), require(\"rxjs/Subject\"), require(\"rxjs/add/operator/share\"), require(\"rxjs/add/operator/toPromise\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"rxjs/add/observable/forkJoin\", \"@angular/router\", \"rxjs/Observable\", \"@angular/common\", \"@angular/http\", \"@ngx-translate/core\", \"rxjs/Subject\", \"rxjs/add/operator/share\", \"rxjs/add/operator/toPromise\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"localize-router\"] = factory(require(\"@angular/core\"), require(\"rxjs/add/observable/forkJoin\"), require(\"@angular/router\"), require(\"rxjs/Observable\"), require(\"@angular/common\"), require(\"@angular/http\"), require(\"@ngx-translate/core\"), require(\"rxjs/Subject\"), require(\"rxjs/add/operator/share\"), require(\"rxjs/add/operator/toPromise\"));\n\telse\n\t\troot[\"localize-router\"] = factory(root[\"@angular/core\"], root[\"rxjs/add/observable/forkJoin\"], root[\"@angular/router\"], root[\"rxjs/Observable\"], root[\"@angular/common\"], root[\"@angular/http\"], root[\"@ngx-translate/core\"], root[\"rxjs/Subject\"], root[\"rxjs/add/operator/share\"], root[\"rxjs/add/operator/toPromise\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6fac1d1110f1286f8931","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = 0\n// module chunks = 0","import { Http, Response } from '@angular/http';\nimport { OpaqueToken } from '@angular/core';\nimport { Routes, Route } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Observer } from 'rxjs/Observer';\nimport { Location } from '@angular/common';\nimport 'rxjs/add/observable/forkJoin';\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/operator/share';\n\nconst LOCALIZE_LOCAL_STORAGE = 'LOCALIZE_LOCAL_STORAGE';\n\n/**\n * Static provider for keeping track of routes\n * @type {OpaqueToken}\n */\nexport const RAW_ROUTES = new OpaqueToken('RAW_ROUTES');\n\n/**\n * Config interface\n */\nexport interface ILocalizeRouteConfig {\n  locales: Array<string>;\n  prefix?: string;\n}\n\n/**\n * Abstract class for parsing localization\n */\nexport abstract class LocalizeParser {\n  locales: Array<string>;\n  currentLang: string;\n  routes: Routes;\n  defaultLang: string;\n\n  protected prefix: string;\n\n  private translationObject: any;\n\n  /**\n   * Loader constructor\n   * @param translate\n   * @param location\n   */\n  constructor(private translate: TranslateService, private location: Location) {}\n\n  /**\n   * Load routes and fetch necessary data\n   * @param routes\n   * @returns {Promise<any>}\n   */\n  abstract load(routes: Routes): Promise<any>;\n\n  /**\n   * Initialize language and routes\n   * @param routes\n   * @returns {Promise<any>}\n   */\n  protected init(routes: Routes): Promise<any> {\n    let selectedLanguage: string;\n    let wildcardRoute: Route;\n\n    this.routes = routes;\n\n    if (!this.locales.length) {\n      return Promise.resolve();\n    }\n    /** detect current language */\n    let locationLang = this.getLocationLang();\n    this.defaultLang = this._cachedLang || this._getBrowserLang() || this.locales[ 0 ];\n    selectedLanguage = locationLang || this.defaultLang;\n    this.translate.setDefaultLang(this.defaultLang);\n\n    /** set base route */\n    const baseRoute = { path: '', redirectTo: this.defaultLang, pathMatch: 'full' };\n\n    /** extract potential wildcard route */\n    let wildcardIndex = routes.findIndex((route: Route) => route.path === '**');\n    if (wildcardIndex !== -1) {\n      wildcardRoute = routes.splice(wildcardIndex, 1)[0];\n    }\n\n    /** mutable operation on routes */\n    let children = this.routes.splice(0, this.routes.length, baseRoute);\n\n    /** append children routes... */\n    this.routes.push({ children: children });\n\n    /** ...and potential wildcard route */\n    if (wildcardRoute) {\n      this.routes.push(wildcardRoute);\n    }\n\n    /** translate routes */\n    const res = this.translateRoutes(selectedLanguage);\n    return res.toPromise();\n  }\n\n  initChildRoutes(routes: Routes) {\n    if (!this.translationObject) {\n      // not lazy, it will be translated in main init\n      return routes;\n    }\n\n    this._translateRouteTree(routes);\n    return routes;\n  }\n\n  /**\n   * Translate routes to selected language\n   * @param language\n   * @returns {Promise<any>}\n   */\n  translateRoutes(language: string): Observable<any> {\n    return new Observable<any>((observer: Observer<any>) => {\n      this._cachedLang = language;\n      if (this.routes.length > 1) {\n        this.routes[ 1 ].path = language;\n      }\n\n      this.translate.use(language).subscribe((translations: any) => {\n        this.translationObject = translations;\n        this.currentLang = language;\n\n        if (this.routes.length > 1) {\n          this._translateRouteTree(this.routes[1].children);\n        }\n        // if there is wildcard route\n        if (this.routes.length > 2 && this.routes[2].redirectTo) {\n          this._translateProperty(this.routes[2], 'redirectTo', true);\n        }\n\n        observer.next(void 0);\n        observer.complete();\n      });\n    });\n  }\n\n  /**\n   * Translate the route node and recursively call for all it's children\n   * @param routes\n   * @private\n   */\n  private _translateRouteTree(routes: Routes): void {\n    routes.forEach((route: Route) => {\n      if (route.path && route.path !== '**') {\n        this._translateProperty(route, 'path');\n      }\n      if (route.redirectTo) {\n        this._translateProperty(route, 'redirectTo', !route.redirectTo.indexOf('/'));\n      }\n      if (route.children) {\n        this._translateRouteTree(route.children);\n      }\n      if (route.loadChildren && (<any>route)._loadedConfig) {\n        this._translateRouteTree((<any>route)._loadedConfig.routes);\n      }\n    });\n  }\n\n  /**\n   * Translate property and if first time add original to cache\n   * @param route\n   * @param property\n   * @param prefixLang\n   * @private\n   */\n  private _translateProperty(route: Route, property: string, prefixLang?: boolean): void {\n    // set property to data if not there yet\n    let dataPointer: any = route.data = route.data || {};\n    if (!dataPointer.localizeRouter) {\n      dataPointer.localizeRouter = {};\n    }\n    if (!dataPointer.localizeRouter[property]) {\n      dataPointer.localizeRouter[property] = (<any>route)[property];\n    }\n\n    let result = this.translateRoute(dataPointer.localizeRouter[property]);\n    (<any>route)[property] = prefixLang ? `/${this.currentLang}${result}` : result;\n  }\n\n  /**\n   * Translate route and return observable\n   * @param path\n   * @returns {string}\n   */\n  translateRoute(path: string): string {\n    let pathSegments = path.split('/');\n\n    /** collect observables  */\n    return pathSegments.map((part: string) => part.length ? this.translateText(part) : part).join('/');\n  }\n\n\n  /**\n   * Get language from url\n   * @returns {string}\n   * @private\n   */\n  getLocationLang(url?: string): string {\n    let pathSlices = (url || this.location.path()).split('/');\n\n    if (pathSlices.length > 1 && this.locales.indexOf(pathSlices[1]) !== -1) {\n      return pathSlices[1];\n    }\n    if (pathSlices.length && this.locales.indexOf(pathSlices[0]) !== -1) {\n      return pathSlices[0];\n    }\n    return null;\n  }\n\n  /**\n   * Get user's language set in the browser\n   * @returns {string}\n   * @private\n   */\n  private _getBrowserLang(): string {\n    return this._returnIfInLocales(this.translate.getBrowserLang());\n  }\n\n  /**\n   * Get language from local storage\n   * @returns {string}\n   * @private\n   */\n  private get _cachedLang(): string {\n    if(typeof window === 'undefined' || typeof window.localStorage === 'undefined') {\n      return void 0;\n    }\n    try {\n      return this._returnIfInLocales(window.localStorage.getItem(LOCALIZE_LOCAL_STORAGE));\n    } catch(e) {\n      // weird Safari issue in private mode, where LocalStorage is defined but throws error on access\n      return void 0;\n    }\n  }\n\n  /**\n   * Save language to local storage\n   * @param value\n   * @private\n   */\n  private set _cachedLang(value: string) {\n    if(typeof window === 'undefined' || typeof window.localStorage === 'undefined') {\n      return;\n    }\n    try {\n      window.localStorage.setItem(LOCALIZE_LOCAL_STORAGE, value);\n    } catch(e) {\n      // weird Safari issue in private mode, where LocalStorage is defined but throws error on access\n      return;\n    }\n  }\n\n  private _returnIfInLocales(value: string): string {\n    if (value && this.locales.indexOf(value) !== -1) {\n      return value;\n    }\n    return null;\n  }\n\n  private translateText(key: string): string {\n    if (!this.translationObject) {\n      return key;\n    }\n    let res = this.translationObject[this.prefix + key];\n    return res || key;\n  }\n}\n\n/**\n * Manually set configuration\n */\nexport class ManualParserLoader extends LocalizeParser {\n\n  /**\n   * CTOR\n   * @param translate\n   * @param location\n   * @param locales\n   * @param prefix\n   */\n  constructor(translate: TranslateService, location: Location, locales: Array<string> = ['en'], prefix: string = 'ROUTES.') {\n    super(translate, location);\n    this.locales = locales;\n    this.prefix = prefix || '';\n  }\n\n  /**\n   * Initialize or append routes\n   * @param routes\n   * @returns {Promise<any>}\n   */\n  load(routes: Routes): Promise<any> {\n    return new Promise((resolve: any) => {\n      this.init(routes).then(resolve);\n    });\n  }\n}\n\n/**\n * Load configuration from server\n */\nexport class StaticParserLoader extends LocalizeParser {\n  private _dataLoaded: boolean;\n\n  /**\n   * CTOR\n   * @param translate\n   * @param location\n   * @param http\n   * @param path\n   */\n  constructor(translate: TranslateService, location: Location, private http: Http, private path: string = 'assets/locales.json') {\n    super(translate, location);\n    this._dataLoaded = false;\n  }\n\n  /**\n   * Initialize or append routes\n   * @param routes\n   * @returns {Promise<any>}\n   */\n  load(routes: Routes): Promise<any> {\n    return new Promise((resolve: any) => {\n      if (this._dataLoaded) {\n        this.init(routes).then(resolve);\n      } else {\n        this.http.get(`${this.path}`)\n          .map((res: Response) => res.json())\n          .subscribe((data: ILocalizeRouteConfig) => {\n            this._dataLoaded = true;\n            this.locales = data.locales;\n            this.prefix = data.prefix || '';\n            this.init(routes).then(resolve);\n          });\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/localize-router.parser.ts","import { Injectable } from '@angular/core';\nimport { Router, NavigationStart, ActivatedRouteSnapshot, NavigationExtras } from '@angular/router';\nimport { Subject } from 'rxjs/Subject';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/forkJoin';\n\nimport { LocalizeParser } from './localize-router.parser';\n\n/**\n * Localization service\n * modifyRoutes\n */\n@Injectable()\nexport class LocalizeRouterService {\n  routerEvents: Subject<string>;\n\n  /**\n   * CTOR\n   * @param parser\n   * @param router\n   */\n  constructor(public parser: LocalizeParser, private router: Router) {\n    this.routerEvents = new Subject<string>();\n  }\n\n  /**\n   * Start up the service\n   */\n  init(): void {\n    this.router.resetConfig(this.parser.routes);\n    this.router.events.subscribe(this._routeChanged());\n  }\n\n  /**\n   * Change language and navigate to translated route\n   * @param lang\n   * @param extras\n   */\n  changeLanguage(lang: string, extras?: NavigationExtras): void {\n    if (lang !== this.parser.currentLang) {\n      let rootSnapshot: ActivatedRouteSnapshot = this.router.routerState.snapshot.root;\n\n      this.parser.translateRoutes(lang).subscribe(() => {\n        this.router.navigateByUrl(this.traverseRouteSnapshot(rootSnapshot), extras);\n      });\n    }\n  }\n\n  /**\n   * Traverses through the tree to assemble new translated url\n   * @param snapshot\n   * @returns {string}\n   */\n  private traverseRouteSnapshot(snapshot: ActivatedRouteSnapshot): string {\n    if (snapshot.firstChild && snapshot.firstChild.routeConfig && snapshot.firstChild.routeConfig.path) {\n      return this.parseSegmentValue(snapshot) + '/' + this.traverseRouteSnapshot(snapshot.firstChild);\n    }\n    return this.parseSegmentValue(snapshot);\n  }\n\n  /**\n   * Extracts new segment value based on routeConfig and url\n   * @param snapshot\n   * @returns {string}\n   */\n  private parseSegmentValue(snapshot: ActivatedRouteSnapshot): string {\n    if (snapshot.routeConfig) {\n      let subPathSegments = snapshot.routeConfig.path.split('/');\n      return subPathSegments.map((s: string, i: number) => s.indexOf(':') === 0 ? snapshot.url[i].path : s).join('/');\n    }\n    return '';\n  }\n\n  /**\n   * Translate route to current language\n   * If new language is explicitly provided then replace language part in url with new language\n   * @param path\n   * @returns {string | any[]}\n   */\n  translateRoute(path: string | any[]): string | any[] {\n    if (typeof path === 'string') {\n      let result = this.parser.translateRoute(path);\n      return !path.indexOf('/') ? `/${this.parser.currentLang}${result}` : result;\n    }\n    // it's an array\n    let result: any[] = [];\n    (path as Array<any>).forEach((segment: any, index: number) => {\n      if (typeof segment === 'string') {\n        let res = this.parser.translateRoute(segment);\n        if (!index && !segment.indexOf('/')) {\n          result.push(`/${this.parser.currentLang}${res}`);\n        } else {\n          result.push(res);\n        }\n      } else {\n        result.push(segment);\n      }\n    });\n    return result;\n  }\n\n  /**\n   * Event handler to react on route change\n   * @returns {(event:any)=>void}\n   * @private\n   */\n  private _routeChanged(): ((event: any) => void) {\n    let self = this;\n\n    return (event: any) => {\n      let lang = this.parser.getLocationLang(event.url);\n      if (event instanceof NavigationStart && lang && lang !== this.parser.currentLang) {\n        this.parser.translateRoutes(lang).subscribe(() => {\n          // Fire route change event\n          this.routerEvents.next(lang);\n        });\n      }\n      // This value does not exist in Router before version 4\n      // so we have to find it indirectly\n      if (event.toString().match(/RouteConfigLoadEnd/)) {\n        Observable.of(event.route).toPromise().then(function (route) {\n          self.parser.initChildRoutes(route._loadedConfig.routes);\n        });\n      }\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/localize-router.service.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/add/observable/forkJoin\"\n// module id = 3\n// module chunks = 0","import { PipeTransform, Pipe, Injectable, ChangeDetectorRef } from '@angular/core';\nimport { LocalizeRouterService } from './localize-router.service';\nimport { Subscription } from 'rxjs/Subscription';\nimport 'rxjs/add/observable/forkJoin';\nimport { equals } from './util';\n\n@Injectable()\n@Pipe({\n  name: 'localize',\n  pure: false // required to update the value when the promise is resolved\n})\nexport class LocalizeRouterPipe implements PipeTransform {\n  private value: string | any[] = '';\n  private lastKey: string | any[];\n  private lastLanguage: string;\n  private subscription: Subscription;\n\n  /**\n   * CTOR\n   * @param localize\n   * @param _ref\n   */\n  constructor(private localize: LocalizeRouterService, private _ref: ChangeDetectorRef) {\n    this.subscription = this.localize.routerEvents.subscribe(() => {\n      this.transform(this.lastKey);\n    });\n  }\n\n  /**\n   * Transform current url to localized one\n   * @param query\n   * @returns {string | any[]}\n   */\n  transform(query: string | any[]): string | any[] {\n    if (!query || query.length === 0 || !this.localize.parser.currentLang) {\n      return query;\n    }\n    if (equals(query, this.lastKey) && equals(this.lastLanguage, this.localize.parser.currentLang)) {\n      return this.value;\n    }\n    this.lastKey = query;\n    this.lastLanguage = this.localize.parser.currentLang;\n\n    /** translate key and update values */\n    this.value = this.localize.translateRoute(query);\n    this.lastKey = query;\n    this._ref.markForCheck();\n\n    return this.value;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/localize-router.pipe.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/router\"\n// module id = 5\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Observable\"\n// module id = 6\n// module chunks = 0","import {\n  NgModule, ModuleWithProviders, APP_INITIALIZER, Provider, OpaqueToken, Optional, SkipSelf,\n  Injectable, Injector\n} from '@angular/core';\nimport { HttpModule, Http } from '@angular/http';\nimport { LocalizeRouterService } from './localize-router.service';\nimport { LocalizeParser, RAW_ROUTES, StaticParserLoader } from './localize-router.parser';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LocalizeRouterPipe } from './localize-router.pipe';\nimport { TranslateModule, TranslateService } from '@ngx-translate/core';\nimport { Location, CommonModule } from '@angular/common';\n\nexport const LOCALIZE_ROUTER_FORROOT_GUARD = new OpaqueToken('LOCALIZE_ROUTER_FORROOT_GUARD');\n\n/**\n * Helper function for loading external parser\n * @param translate\n * @param location\n * @param http\n * @returns {StaticParserLoader}\n */\nexport function localizeLoaderFactory(translate: TranslateService, location: Location, http: Http) {\n  return new StaticParserLoader(translate, location, http);\n}\n\n@Injectable()\nexport class ParserInitializer {\n  parser: LocalizeParser;\n  routes: Routes;\n\n  /**\n   * CTOR\n   * @param injector\n   */\n  constructor(private injector: Injector) {\n  }\n\n  /**\n   * @returns {Promise<any>}\n   */\n  appInitializer(): Promise<any> {\n    const res = this.parser.load(this.routes);\n    res.then(() => {\n      const localize: LocalizeRouterService = this.injector.get(LocalizeRouterService);\n      localize.init();\n    });\n\n    return res;\n  }\n\n  /**\n   * @param parser\n   * @param routes\n   * @returns {()=>Promise<any>}\n   */\n  generateInitializer(parser: LocalizeParser, routes: Routes[]): () => Promise<any> {\n    this.parser = parser;\n    this.routes = routes.reduce((a, b) => a.concat(b));\n    return this.appInitializer;\n  }\n}\n\n/**\n * @param p\n * @param parser\n * @param routes\n * @returns {any}\n */\nexport function getAppInitializer(p: ParserInitializer, parser: LocalizeParser, routes: Routes[]): any {\n  return p.generateInitializer(parser, routes).bind(p);\n}\n\n@NgModule({\n  imports: [HttpModule, CommonModule, RouterModule, TranslateModule],\n  declarations: [LocalizeRouterPipe],\n  exports: [LocalizeRouterPipe]\n})\nexport class LocalizeRouterModule {\n\n  static forRoot(routes: Routes,\n    localizeLoader: Provider = {\n      provide: LocalizeParser,\n      useFactory: localizeLoaderFactory,\n      deps: [TranslateService, Location, Http]\n    }): ModuleWithProviders {\n    return {\n      ngModule: LocalizeRouterModule,\n      providers: [\n        {\n          provide: LOCALIZE_ROUTER_FORROOT_GUARD,\n          useFactory: provideForRootGuard,\n          deps: [[LocalizeRouterModule, new Optional(), new SkipSelf()]]\n        },\n        {\n          provide: RAW_ROUTES,\n          multi: true,\n          useValue: routes\n        },\n        localizeLoader,\n        LocalizeRouterService,\n        ParserInitializer,\n        {\n          provide: APP_INITIALIZER,\n          multi: true,\n          useFactory: getAppInitializer,\n          deps: [ParserInitializer, LocalizeParser, RAW_ROUTES]\n        }\n      ]\n    };\n  }\n\n  static forChild(routes: Routes): ModuleWithProviders {\n    return {\n      ngModule: LocalizeRouterModule,\n      providers: [\n        {\n          provide: RAW_ROUTES,\n          multi: true,\n          useValue: routes\n        }\n      ]\n    };\n  }\n}\n\n/**\n * @param localizeRouterModule\n * @returns {string}\n */\nexport function provideForRootGuard(localizeRouterModule: LocalizeRouterModule): string {\n  if (localizeRouterModule) {\n    throw new Error(\n      `LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.`);\n  }\n  return 'guarded';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/localize-router.module.ts","/**\n * Compare if two objects are same\n * @param o1\n * @param o2\n * @returns {boolean}\n */\nexport function equals(o1: any, o2: any): boolean {\n  if (o1 === o2) {\n    return true;\n  }\n  if (o1 === null || o2 === null) {\n    return false;\n  }\n  if(o1 !== o1 && o2 !== o2) {\n    return true;\n  } // NaN === NaN\n  let t1 = typeof o1, t2 = typeof o2, length: number, key: any, keySet: any;\n  if(t1 === t2 && t1 === 'object') {\n    if(Array.isArray(o1)) {\n      if (!Array.isArray(o2)) {\n        return false;\n      }\n      if((length = o1.length) === o2.length) {\n        for(key = 0; key < length; key++) {\n          if(!equals(o1[key], o2[key])) {\n            return false;\n          }\n        }\n        return true;\n      }\n    } else {\n      if (Array.isArray(o2)) {\n        return false;\n      }\n      keySet = Object.create(null);\n      for (key in o1) {\n        if (o1.hasOwnProperty(key)) {\n          if (!equals(o1[key], o2[key])) {\n            return false;\n          }\n          keySet[key] = true;\n        }\n      }\n      for (key in o2) {\n        if (o2.hasOwnProperty(key)) {\n          if (!(key in keySet) && typeof o2[key] !== 'undefined') {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n  }\n  return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./src/util.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/common\"\n// module id = 9\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/http\"\n// module id = 10\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@ngx-translate/core\"\n// module id = 11\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Subject\"\n// module id = 12\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/add/operator/share\"\n// module id = 13\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/add/operator/toPromise\"\n// module id = 14\n// module chunks = 0","export * from './src/localize-router.module';\nexport * from './src/localize-router.parser';\nexport * from './src/localize-router.service';\nexport * from './src/localize-router.pipe';\n\n\n\n// WEBPACK FOOTER //\n// ./~/tslint-loader!./index.ts"],"sourceRoot":""}